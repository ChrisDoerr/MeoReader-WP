MeoReader.box={};MeoReader.box.button={ok:{html:'<a href="javascript:void(0);" class="btn ok">%label%</a>\n',label:MeoReader.i18n.get("btn_Okay"),enable:false},cancel:{html:'<a href="javascript:void(0);" class="btn cancel">%label%</a>\n',label:MeoReader.i18n.get("btn_Cancel"),enable:false},close:{html:'<a href="javascript:void(0);" class="btn close">%label%</a>\n',label:MeoReader.i18n.get("btn_Close"),enable:false}};MeoReader.box.width=0;MeoReader.box.top=0;MeoReader.box.state="neutral";MeoReader.box.die=false;MeoReader.box.data={};MeoReader.box.init=(function(){var html="";html+='<div id="" class="meoReader_box">\n';html+=' <div class="header">\n';html+="  <h3></h3>\n";html+='  <a href="javascript:void(0);" title="close" class="btn_close">x</a>\n';html+='  <div class="clearAll">&nbsp;</div>\n';html+=" </div>\n";html+=' <div class="body">&nbsp;</div>\n';html+=' <div class="footer">\n';html+='  <div class="clearAll">&nbsp;</div>\n';html+=" </div>\n";html+="</div>\n";MeoReader.box.element=jQuery(html).appendTo("body");MeoReader.box.title=MeoReader.box.element.children(".header").children("h3");MeoReader.box.body=MeoReader.box.element.children(".body");MeoReader.box.footer=MeoReader.box.element.children(".footer");}());MeoReader.box.show=function(){MeoReader.box.element.css({position:"fixed",display:"inline-block"});MeoReader.box.element.css({position:"absolute",top:Math.round(MeoReader.box.element.offset().top)});if(typeof(MeoReader.box.die)==="number"){MeoReader.box.element.delay(MeoReader.box.die*1000).fadeOut(1000);}};MeoReader.box.hide=function(){MeoReader.box.element.css("display","none");return false;};MeoReader.box.setWidth=function(width){MeoReader.box.width=width;MeoReader.box.element.css({width:width,"margin-left":((width/2)*-1)});};MeoReader.box.reset=function(){MeoReader.box.data={};MeoReader.box.die=false;MeoReader.box.element.stop();MeoReader.box.title.removeClass("loading");MeoReader.box.hide();};MeoReader.box.setTop=function(top){MeoReader.box.top=top;MeoReader.box.element.css("top",top);};MeoReader.box.setId=function(id){MeoReader.box.element.attr("id",id);};MeoReader.box.setTitle=function(title){MeoReader.box.title.html(title);};MeoReader.box.setBody=function(bodyHTML){MeoReader.box.body.html(bodyHTML);};MeoReader.box.setFooter=function(footerHTML){MeoReader.box.footer.html(footerHTML);};MeoReader.box.setState=function(state){state=state.toLowerCase();if(state==="success"){MeoReader.box.state="success";MeoReader.box.element.removeClass("error neurral").addClass("success");}else{if(state==="error"){MeoReader.box.state="error";MeoReader.box.element.removeClass("success neurral").addClass("error");}else{MeoReader.box.state="neutral";MeoReader.box.element.removeClass("error success").addClass("neutral");}}};MeoReader.box.setData=function(data){MeoReader.box.data=data;};MeoReader.box.addButtons=function(){var html="";if(MeoReader.box.button.cancel.enable===true){html+=MeoReader.box.button.cancel.html.replace("%label%",MeoReader.box.button.cancel.label);}if(MeoReader.box.button.ok.enable===true){html+=MeoReader.box.button.ok.html.replace("%label%",MeoReader.box.button.ok.label);}if(MeoReader.box.button.close.enable===true){html+=MeoReader.box.button.close.html.replace("%label%",MeoReader.box.button.close.label);}html+='<div class="clearAll">&nbsp;</div>\n';MeoReader.box.setFooter(html);};MeoReader.box.create=function(config){MeoReader.box.reset();if(config.id!==undefined){MeoReader.box.setId(config.id);}if(config.width!==undefined){MeoReader.box.setWidth(config.width);}if(config.top!==undefined){MeoReader.box.setTop(config.top);}if(config.title!==undefined){MeoReader.box.setTitle(config.title);}if(config.body!==undefined){MeoReader.box.setBody(config.body);}if(config.data!==undefined){MeoReader.box.setData(config.data);}if(config.button.ok.enable!==undefined){MeoReader.box.button.ok.enable=(config.button.ok.enable===true)?true:false;MeoReader.box.button.ok.label=(config.button.ok.label!==undefined)?config.button.ok.label:MeoReader.i18n.get("btn_Okay");}else{MeoReader.box.button.ok.enable=false;}if(config.button.cancel.enable!==undefined){MeoReader.box.button.cancel.enable=(config.button.cancel.enable===true)?true:false;MeoReader.box.button.cancel.label=(config.button.cancel.label!==undefined)?config.button.cancel.label:MeoReader.i18n.get("btn_Cancel");}else{MeoReader.box.button.cancel.enable=false;}if(config.button.close.enable!==undefined){MeoReader.box.button.close.enable=(config.button.close.enable===true)?true:false;MeoReader.box.button.close.label=(config.button.close.label!==undefined)?config.button.close.label:MeoReader.i18n.get("btn_Close");}else{MeoReader.box.button.close.enable=false;}if(config.state!==undefined){MeoReader.box.setState(config.state);}else{MeoReader.box.setState("neutral");}if(config.die!==undefined){MeoReader.box.die=parseInt(config.die,10);}else{MeoReader.box.die=false;}MeoReader.box.addButtons();MeoReader.box.show();};if(MeoReader.compareVersions(MeoReader.jQueryVersion,"1.7.0")===-1){jQuery(document).on("click",".meoReader_box a.btn_close, .meoReader_box a.btn.close, .meoReader_box a.btn.cancel",function(){MeoReader.box.reset();return false;});jQuery(document).on("click",".meoReader_box label",function(){jQuery("#"+jQuery(this).attr("for")).focus();});jQuery(document).on("click",".meoReader_box_select li.first",function(){jQuery(this).siblings("li").each(function(){if(jQuery(this).css("display")==="none"){jQuery(this).css("display","block");}else{jQuery(this).css("display","none");}});});jQuery(document).on("click",".meoReader_box_select a",function(){var text=jQuery(this).html(),first=jQuery(this).parent().siblings("li.first");first.html(text);first.attr("data-cd",jQuery(this).attr("data-cd"));jQuery(this).parent().parent().children("li").not("li.first").toggle();});}else{jQuery(document).delegate(".meoReader_box a.btn_close, .meoReader_box a.btn.discard, .meoReader_box a.btn.cancel","click",function(){MeoReader.box.reset();return false;});jQuery(document).delegate(".meoReader_box label","click",function(){jQuery("#"+jQuery(this).attr("for")).focus();});jQuery(document).delegate(".meoReader_box_select li.first","click",function(){jQuery(this).siblings("li").each(function(){if(jQuery(this).css("display")==="none"){jQuery(this).css("display","block");}else{jQuery(this).css("display","none");}});});jQuery(document).delegate(".meoReader_box_select a","click",function(){var text=jQuery(this).html(),first=jQuery(this).parent().siblings("li.first");first.html(text);first.attr("data-cd",jQuery(this).attr("data-cd"));jQuery(this).parent().parent().children("li").not("li.first").toggle();});}
